<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>SANG - Повышение</title>
</head>
<body>
    <nav class="navigation">
        <a href="index.html" class="logo">National Guard</a>
        <ul class="navigation-holder">
          <li class="nav-links">
              <a href="academy.html">Academy</a>
          </li>
          <li class="nav-links">
              <a href="kmb.html">КМБ</a>
          </li>
          <li class="nav-links">
              <a href="military_academy.html">Military Academy</a>
          </li>
          </nav>
    <form id="webhookForm">
<div class="center">
        <div class="form-group">
            <h2 style="height: 50px; margin-top: 20px;">Отчёт на повышение Academy</h2>
            <p>Имя Фамилия</p>
            <input type="text" id="one" name="one" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Экскурсия по Форту Занкудо.</p>
            <input type="text" id="three" name="three" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Сдать норматив по физ подготовке.</p>
            <input type="text" id="four" name="four" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Вводная лекция, Присяга.</p>
            <input type="text" id="five" name="five" value="" class="form-group-input">
        </div>
        <button type="submit" class="submite">Отправить заявку</button>
    </form>
</div>

    <script>
        document.getElementById('webhookForm').addEventListener('submit', async (event) => {
    event.preventDefault();

    const one = document.getElementById('one').value;
    const three = document.getElementById('three').value;
    const four = document.getElementById('four').value;
    const five = document.getElementById('five').value;

    if (!one || !three || !four || !five) {
        alert('Пожалуйста, заполните все поля.');
        return;
    }

    const payload = {
        content: '<@&1086341976988860456>',
        embeds: [ 
            {
                title: 'Новая заявка! От Academy!',
                color: 5428281,
                fields: [
                    {
                        name: 'Имя Фамилия',
                        value: one,
                        inline: false
                    },
                    {
                        name: 'С какого на какой повышаетесь?',
                        value: 'С Рядовой [2] до Специалист [3]',
                        inline: false
                    },
                    {
                        name: 'Экскурсия по Форту Занкудо.',
                        value: three,
                        inline: false
                    },
                    {
                        name: 'Сдать норматив по физ подготовке.',
                        value: four,
                        inline: false
                    },
                    {
                        name: 'Вводная лекция, Присяга.',
                        value: five,
                        inline: false
                    }
                ],
                "footer": {
                        "text": "By Satofan"
                    }
            }
        ]
    };

    try {
        const response = await fetch('https://discord.com/api/webhooks/1212088104639537172/k0Afskrb-4ZFJ9LBsF4Sem9r-QUJYJIVjmP3GqMyXU_aLCDKsQY58krxS547Mv_bVXxf', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error('Ошибка при отправке заявки');
        }

        alert('Заявка успешно отправлена!');

        // Очистка полей формы
        document.getElementById('one').value = '';
        document.getElementById('three').value = '';
        document.getElementById('four').value = '';
        document.getElementById('five').value = '';

    } catch (error) {
        console.error('Ошибка:', error);
        alert('Произошла ошибка при отправке заявки. Пожалуйста, попробуйте еще раз.');
    }
});
    </script>
</body>
</html>