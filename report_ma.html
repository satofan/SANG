<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>SANG - Повышение</title>
</head>
<body>
    <form id="webhookForm">
<div class="center">
        <div class="form-group">
            <h2 style="height: 50px; margin-top: 20px;">Отчет на повышение Military Academy</h2>
            <p>Имя Фамилия</p>
            <input type="text" id="one" name="one" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>С какого на какой повышаетесь</p>
            <input type="text" id="two" name="two" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Работа с аккадемией</p>
            <input type="text" id="three" name="three" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Наборы</p>
            <input type="text" id="four" name="four" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Баллы с прошлого отчета</p>
            <input type="text" id="five" name="five" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Набранные баллы</p>
            <input type="text" id="six" name="six" value="" class="form-group-input">
        </div>
        <button type="submit" class="submite ma">Отправить заявку</button>
=======
<nav class="navigation">
  <a href="index.html" class="logo">National Guard</a>
  <ul class="navigation-holder">
    <li class="nav-links">
        <a href="academy.html">Academy</a>
    </li>
    <li class="nav-links">
        <a href="kmb.html">КМБ</a>
    </li>
    <li class="nav-links">
        <a href="military_academy.html">Military Academy</a>
    </li>
    </nav>
    <form action="https://discord.com/api/webhooks/1212098523328155718/2AZI0Wtd93_7VJSrwR4yfYSLxOVKsxHDE7BkE47GEmiCfg851P6OYgVzufhb7xbyVftE" method="POST">
        <input type="hidden" name="payload_json" value='{
            "content": "<@&1086341945435103392> <@&1086341970009522188>",
            "embeds": [
                {
                    "title": "Новая заявка! От Military Azademy! ",
                    "color": 7267852,
                    "fields": [
                        {
                            "name": "Имя Фамилия",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "С какого на какой повышаетесь",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Наборы",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Работа с академией/кмб",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Остальное",
                            "value": "-",
                            "inline": false
                        }, 
                        {
                            "name": "Остаток баллов с прошло отчета",
                            "value": "-",
                            "inline": false
                        }, 
                        {
                            "name": "Набранно балов",
                            "value": "-",
                            "inline": false
                        }        
                    ],
                    "footer": {
                        "text": "By Satofan"
                    }
                }
            ]
        }' />
    <div class="center">
        <p>C Рекрут [1] до Рядовой [2]</p>
        <p>Имя и Фамилия</p>
        <textarea class="text" id="embedField1Value" rows="1" cols="50" oninput="updateValue(0)"></textarea>
        <p>с какого ранга на какой повышаетесь</p>
        <textarea class="text" id="embedField3Value" rows="1" cols="50" oninput="updateValue(1)"></textarea>
        <p>Наборы</p>
        <textarea class="text" id="embedField4Value" rows="1" cols="50" oninput="updateValue(2)"></textarea>
        <p>Работа с академией</p>
        <textarea class="text" id="embedField5Value" rows="1" cols="50" oninput="updateValue(3)"></textarea>
        <p>Остальное</p>
        <textarea class="text" id="embedFiel6Value" rows="1" cols="50" oninput="updateValue(4)"></textarea>
        <p>Остаток баллов с прошлого отчета</p>
        <textarea class="text" id="embedFiel7Value" rows="1" cols="50" oninput="updateValue(5)"></textarea>
        <p>Набранно балов</p>
        <textarea class="text" id="embedFiel8Value" rows="1" cols="50" oninput="updateValue(6)"></textarea>
        <button class="buttonup" type="submit" onclick="resetForm()">Отправить</button>
    </div>
    <script>
    function resetForm() {
        const textareas = document.querySelectorAll('textarea.text');
        textareas.forEach(textarea => {
            textarea.value = '';
        });
    }
        <script>

        function updateValue(fieldIndex) {

            const payloadJson = document.querySelector('input[name="payload_json"]');

            const embedField1Value = document.querySelector('#embedField1Value');

            const embedField3Value = document.querySelector('#embedField3Value');

            const embedField4Value = document.querySelector('#embedField4Value');

            const embedField5Value = document.querySelector('#embedField5Value');

            const embedField6Value = document.querySelector('#embedField6Value');

            const embedField7Value = document.querySelector('#embedField7Value');

            const embedField8Value = document.querySelector('#embedField8Value');

            const payload = JSON.parse(payloadJson.value);

            if (payload.embeds[0].fields.length <= fieldIndex) {

                payload.embeds[0].fields.push({});

            }

            payload.embeds[0].fields[fieldIndex].value = embedField1Value.value;

            if (fieldIndex === 1) {

                payload.embeds[0].fields[fieldIndex].value = "C Рекрут [1] до Рядовой [2]";

            } else if (fieldIndex === 2) {

                payload.embeds[0].fields[fieldIndex].value = embedField3Value.value;

            } else if (fieldIndex === 3) {

                payload.embeds[0].fields[fieldIndex].value = embedField4Value.value;
        </script>
>>>>>>> 90856d74c73631aca20340115d7b5e9357a8f126
    </form>
</div>

    <script>
        document.getElementById('webhookForm').addEventListener('submit', async (event) => {
    event.preventDefault();

    const one = document.getElementById('one').value;
    const two = document.getElementById('two').value;
    const three = document.getElementById('three').value;
    const four = document.getElementById('four').value;
    const five = document.getElementById('five').value;
    const six = document.getElementById('six').value;

    if (!one || !two || !three || !four || !five || !six) {
        alert('Пожалуйста, заполните все поля.');
        return;
    }

    const payload = {
        content: '<@&1086341945435103392> <@&1086341970009522188>',
        embeds: [
            {
                title: 'Новая заявка! От Military Academy!',
                color: 47103,
                fields: [
                    {
                        name: 'Имя Фамилия',
                        value: one,
                        inline: false
                    },
                    {
                        name: 'С какого на какой повышаетесь',
                        value: two,
                        inline: false
                    },
                    {
                        name: 'Работа с аккадемией',
                        value: three,
                        inline: false
                    },
                    {
                        name: 'Наборы',
                        value: four,
                        inline: false
                    },
                    {
                        name: 'Баллы с прошлого отчета',
                        value: five,
                        inline: false
                    },
                    {
                        name: 'Набранные баллы',
                        value: six,
                        inline: false
                    }
                ]
            }
        ]
    };

    try {
        const response = await fetch('https://discord.com/api/webhooks/1212098523328155718/2AZI0Wtd93_7VJSrwR4yfYSLxOVKsxHDE7BkE47GEmiCfg851P6OYgVzufhb7xbyVftE', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error('Ошибка при отправке заявки');
        }

        alert('Заявка успешно отправлена!');

        // Очистка полей формы
        document.getElementById('one').value = '';
        document.getElementById('two').value = '';
        document.getElementById('three').value = '';
        document.getElementById('four').value = '';
        document.getElementById('five').value = '';
        document.getElementById('six').value = '';

    } catch (error) {
        console.error('Ошибка:', error);
        alert('Произошла ошибка при отправке заявки. Пожалуйста, попробуйте еще раз.');
    }
});
    </script>
</body>
</html>