<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>SANG - Повышение</title>
</head>
<body>
    <form id="webhookForm">
<div class="center">
        <div class="form-group">
            <h2 style="height: 50px; margin-top: 20px;">Отчёт на повышение Military Academy</h2>
            <p>Имя Фамилия</p>
            <input type="text" id="one" name="one" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>С какого на какой повышаетесь</p>
            <input type="text" id="two" name="two" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Проделанная работа</p>
            <input type="text" id="three" name="three" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Всего баллов</p>
            <input type="text" id="four" name="four" value="" class="form-group-input">
        </div>
        <div class="form-group">
            <p>Баллов с прошлого отчёта</p>
            <input type="text" id="five" name="five" value="" class="form-group-input">
        </div>
        <button type="submit" class="submite ma">Отправить заявку</button>
    </form>
</div>

    <script>
        document.getElementById('webhookForm').addEventListener('submit', async (event) => {
    event.preventDefault();

    const one = document.getElementById('one').value;
    const two = document.getElementById('two').value;
    const three = document.getElementById('three').value;
    const four = document.getElementById('four').value;
    const five = document.getElementById('five').value;

    if (!one || !two || !three || !four || !five) {
        alert('Пожалуйста, заполните все поля.');
        return;
    }

    const payload = {
        content: '<@&1086341945435103392> <@&1086341970009522188>',
        embeds: [
            {
                title: 'Новая заявка! От Military Academy!',
                color: 47103,
                fields: [
                    {
                        name: 'Имя Фамилия',
                        value: one,
                        inline: false
                    },
                    {
                        name: 'С какого на какой повышаетесь',
                        value: two,
                        inline: false
                    },
                    {
                        name: 'Проделанная работа',
                        value: three,
                        inline: false
                    },
                    {
                        name: 'Всего баллов',
                        value: four,
                        inline: false
                    },
                    {
                        name: 'Баллов с прошлого отчёта',
                        value: five,
                        inline: false
                    }
                ]
            }
        ]
    };

    try {
        const response = await fetch('https://discord.com/api/webhooks/1212098523328155718/2AZI0Wtd93_7VJSrwR4yfYSLxOVKsxHDE7BkE47GEmiCfg851P6OYgVzufhb7xbyVftE', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error('Ошибка при отправке заявки');
        }

        alert('Заявка успешно отправлена!');

        // Очистка полей формы
        document.getElementById('one').value = '';
        document.getElementById('two').value = '';
        document.getElementById('three').value = '';
        document.getElementById('four').value = '';
        document.getElementById('five').value = '';

    } catch (error) {
        console.error('Ошибка:', error);
        alert('Произошла ошибка при отправке заявки. Пожалуйста, попробуйте еще раз.');
    }
});
    </script>
</body>
</html>