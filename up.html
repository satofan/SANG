<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Система управления пользователями</title>
	<style>
		body {
			font-family: Arial, sans-serif;
		}
		#userInfo {
			margin-top: 20px;
		}
	</style>
</head>
<body>
	<h1>Система управления пользователями</h1>
	<button id="createUser">Создать пользователя</button>
	<button id="promote">Повысить</button>
	<button id="demote">Понизить</button>
	<button id="save">Сохранить в файл</button>
	<div id="userInfo"></div>
	<script>
		let users = [];

		function createUser() {
			const name = prompt('Введите имя:');
			const surname = prompt('Введите фамилию:');
			const department = prompt('Введите отдел:');
			const rank = prompt('Введите ранг:');

			const user = { name, surname, department, rank };
			users.push(user);

			displayUserInfo();
		}

		function promote() {
			if (users.length === 0) {
				alert('Нет пользователей для повышения');
				return;
			}

			const user = users.pop();
			if (user.rank === 'Администратор') {
				alert('Пользователь уже является администратором');
			} else {
				user.rank = 'Администратор';
			}

			if (users.length === 0) {
				alert('Нет больше пользователей для изменения');
				return;
			}

			displayUserInfo();
		}

		function demote() {
			if (users.length === 0) {
				alert('Нет пользователей для понижения');
				return;
			}

			const user = users.pop();
			if (user.rank === 'Пользователь') {
				alert('Пользователь уже является пользователем');
			} else {
				user.rank = 'Пользователь';
			}

			if (users.length === 0) {
				alert('Нет больше пользователей для изменения');
				return;
			}

			displayUserInfo();
		}

		function displayUserInfo() {
			let userInfo = '<h2>Информация о пользователях</h2><ul>';
			for (const user of users) {
				userInfo += `
					<li>${user.name} ${user.surname}, ${user.department}, ${user.rank}</li>
				`;
			}
			userInfo += '</ul>';
			const userInfoDiv = document.getElementById('userInfo');
			userInfoDiv.innerHTML = userInfo;
		}

		function saveToFile() {
			const userString = users.map(user => `${user.name} ${user.surname}, ${user.department}, ${user.rank}`).join('\n');
			const blob = new Blob([userString], { type: 'text/plain' });
			const url = URL.createObjectURL(blob);
			const a = document.createElement('a');
			a.href = url;
			a.download = 'users.txt';
			a.click();
		}

        document.getElementById('createUser').addEventListener('click', createUser);
document.getElementById('promote').addEventListener('click', promote);
document.getElementById('demote').addEventListener('click', demote);
document.getElementById('save').addEventListener('click', saveToFile);