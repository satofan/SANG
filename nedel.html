<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://kit.fontawesome.com/ddecd49404.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="script.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANG - Повышение</title>
    <link rel="shortcut icon" href="src/icon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<nav class="navigation">
  <a href="index.html" class="logo">National Guard</a>
  <ul class="navigation-holder">
    <li class="nav-links">
        <a href="academy.html">Academy</a>
    </li>
    <li class="nav-links">
        <a href="kmb.html">КМБ</a>
    </li>
    <li class="nav-links">
        <a href="military_academy.html">Military Academy</a>
    </li>
    </nav>
    <form action="https://discord.com/api/webhooks/1212472976176582707/HQNJcicabEl9vFiioOpHQ7rq23bkqMmOGm02KQpUDEV6W9qVsVT54-F7K-NVhxCuzzCI" method="POST">
        <input type="hidden" name="payload_json" value='{ 
            "content": "<@&1086341945435103392> <@&1086341970009522188>",
            "embeds": [
                {
                    "title": "Новый отчет! От Military Academy!",
                    "color": 54783,
                    "fields": [
                        {
                            "name": "Имя Фамилия",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Звание и должность",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Проделанная работа за неделю",
                            "value": "-",
                            "inline": false
                        }
                    ],
                    "footer": {
                        "text": "By Satofan"
                    }
                }
            ]
        }' />
    <div class="center">
        <p>Еженедельный отчет Military Academy</p>
        <p>Имя и Фамилия</p>
        <textarea class="text" id="embedField1Value" rows="1" cols="50" oninput="updateValue(0)"></textarea>
        <p>Звание и должность</p>
        <textarea class="text" id="embedField2Value" rows="1" cols="50" oninput="updateValue(1)"></textarea>
        <p>Проделанная работа за неделю</p>
        <textarea class="text" id="embedField3Value" rows="1" cols="50" oninput="updateValue(2)"></textarea>
        <button class="buttonup" type="submit" onclick="resetForm()">Отправить</button>
    </div>
    <script>
    function resetForm() {
        const textareas = document.querySelectorAll('textarea.text');
        textareas.forEach(textarea => {
            textarea.value = '';
        });
    }
    </script>
        <script>
            function updateValue(fieldIndex) {
                const payloadJson = document.querySelector('input[name="payload_json"]');
                const embedField1Value = document.querySelector('#embedField1Value');
                const embedField2Value = document.querySelector('#embedField2Value');
                const embedField3Value = document.querySelector('#embedField3Value');
                const embedField4Value = document.querySelector('#embedField4Value');
                const embedField5Value = document.querySelector('#embedField5Value');
                const embedField6Value = document.querySelector('#embedField6Value');
                const embedField998Value = document.querySelector('#embedField998Value');
                const payload = JSON.parse(payloadJson.value);
                if (payload.embeds[0].fields.length <= fieldIndex) {
                    payload.embeds[0].fields.push({});
                }
                payload.embeds[0].fields[fieldIndex].value = fieldIndex === 998 ? "C Рекрут [1] до Рядовой [2]" : fieldIndex === 0 ? embedField2Value.value : fieldIndex === 1 ? embedField1Value.value : fieldIndex === 2 ? embedField3Value.value : fieldIndex === 3 ? embedField4Value.value : fieldIndex === 4 ? embedField5Value.value : fieldIndex === 5 ? embedField6Value.value : "";
                payloadJson.value = JSON.stringify(payload);
            }
        </script>
    </form>
</div>
  <div class="centervidio">
  </div>
</body>
</html>
