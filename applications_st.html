<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://kit.fontawesome.com/ddecd49404.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="script.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANG - Повышение</title>
    <link rel="shortcut icon" href="src/icon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<nav class="navigation">
  <a href="index.html" class="logo">National Guard</a>
  <ul class="navigation-holder">
    <li class="nav-links">
        <a href="academy.html">Academy</a>
    </li>
    <li class="nav-links">
        <a href="kmb.html">КМБ</a>
    </li>
    <li class="nav-links">
        <a href="military_academy.html">Military Academy</a>
    </li>
    </nav>
    <form action="https://discord.com/api/webhooks/1212098523328155718/2AZI0Wtd93_7VJSrwR4yfYSLxOVKsxHDE7BkE47GEmiCfg851P6OYgVzufhb7xbyVftE" method="POST">
        <input type="hidden" name="payload_json" value='{
            "content": "<@&1086341945435103392>",
            "embeds": [
                {
                    "title": "Новая заявка! От Military Academy!",
                    "color": 7267852,
                    "fields": [
                        {
                            "name": "Имя Фамилия",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "С какого на какой повышаетесь",
                            "value": "Стажировка",
                            "inline": false
                        },
                        {
                            "name": "Прослушать базовый инструктаж",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Провести самостоятельно 3 лекции",
                            "value": "-",
                            "inline": false
                        },
                        {
                            "name": "Пройти аттестацию",
                            "value": "-",
                            "inline": false
                        }
                    ],
                    "footer": {
                        "text": "By Satofan"
                    }
                }
            ]
        }' />
    <div class="center">
        <p>С Рядовой [2] до Специалист [3]</p>
        <p>Имя и Фамилия</p>
        <textarea class="text" id="embedField1Value" rows="1" cols="50" oninput="updateValue(0)"></textarea>
        <p>Прослушать базовый инструктаж</p>
        <textarea class="text" id="embedField3Value" rows="1" cols="50" oninput="updateValue(2)"></textarea>
        <p>Сдать норматив по физ.подготовке</p>
        <textarea class="text" id="embedField4Value" rows="1" cols="50" oninput="updateValue(3)"></textarea>

        <button class="buttonup" type="submit" onclick="resetForm()">Отправить</button>
    </div>
    <script>
    function resetForm() {
        const textareas = document.querySelectorAll('textarea.text');
        textareas.forEach(textarea => {
            textarea.value = '';
        });
    }
    </script>
    
        <script>
            function updateValue(fieldIndex) {
                const payloadJson = document.querySelector('input[name="payload_json"]');
                const embedField1Value = document.querySelector('#embedField1Value');
                const embedField3Value = document.querySelector('#embedField3Value');
                const embedField4Value = document.querySelector('#embedField4Value');
                const embedField5Value = document.querySelector('#embedField5Value');
                const embedField6Value = document.querySelector('#embedField6Value');
                const embedField7Value = document.querySelector('#embedField7Value');
                const embedField999Value = document.querySelector('#embedField999Value');
                const payload = JSON.parse(payloadJson.value);
                if (payload.embeds[0].fields.length <= fieldIndex) {
                    payload.embeds[0].fields.push({});
                }
                payload.embeds[0].fields[fieldIndex].value = fieldIndex === 1 ? "Стажировка" : fieldIndex === 0 ? embedField1Value.value : fieldIndex === 2 ? embedField3Value.value : fieldIndex === 3 ? embedField4Value.value : fieldIndex === 4 ? embedField5Value.value : fieldIndex === 5 ? embedField6Value.value : fieldIndex === 6 ? embedField7Value.value : fieldIndex === 7 ? embedField999Value.value : "";
                payloadJson.value = JSON.stringify(payload);
            }
        </script>
    </form>
</div>
  <div class="centervidio">
  </div>
</body>
</html>